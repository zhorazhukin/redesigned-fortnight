function onYouTubeIframeAPIReady(){theme.SlideshowVideo.loadVideos()}function gm_authFailure(){$(".map-section").addClass("map-section--load-error"),$(".map-section__container").remove(),$(".map-section__link").remove(),$(".map-section__overlay").after('<div class="errors text-center">'+theme.strings.authError+"</div>")}window.theme=window.theme||{},window.theme=window.theme||{},theme.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},theme.Sections.prototype=_.assignIn({},theme.Sections.prototype,{_createInstance:function(e,t){var i=$(e),n=i.attr("data-section-id"),o=i.attr("data-section-type");if(t=t||this.constructors[o],!_.isUndefined(t)){var s=_.assignIn(new t(e),{id:n,type:o,container:e});this.instances.push(s)}},_onSectionLoad:function(e){var t=$("[data-section-id]",e.target)[0];t&&this._createInstance(t)},_onSectionUnload:function(i){this.instances=_.filter(this.instances,function(e){var t=e.id===i.detail.sectionId;return t&&_.isFunction(e.onUnload)&&e.onUnload(i),!t})},_onSelect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onSelect)&&e.onSelect(t)},_onDeselect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onDeselect)&&e.onDeselect(t)},_onBlockSelect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onBlockSelect)&&e.onBlockSelect(t)},_onBlockDeselect:function(t){var e=_.find(this.instances,function(e){return e.id===t.detail.sectionId});!_.isUndefined(e)&&_.isFunction(e.onBlockDeselect)&&e.onBlockDeselect(t)},register:function(e,i){this.constructors[e]=i,$("[data-section-type="+e+"]").each(function(e,t){this._createInstance(t,i)}.bind(this))}}),window.slate=window.slate||{},slate.rte={wrapTable:function(){$(".rte table").wrap('<div class="rte__table-wrapper"></div>')},iframeReset:function(){var e=$('.rte iframe[src*="youtube.com/embed"], .rte iframe[src*="player.vimeo"]'),t=e.add(".rte iframe#admin_bar_iframe");e.each(function(){$(this).wrap('<div class="video-wrapper"></div>')}),t.each(function(){this.src=this.src})}},window.slate=window.slate||{},slate.a11y={pageLinkFocus:function(e){var t="js-focus-hidden";e.first().attr("tabIndex","-1").focus().addClass(t).one("blur",function(){e.first().removeClass(t).removeAttr("tabindex")})},focusHash:function(){var e=window.location.hash;e&&document.getElementById(e.slice(1))&&this.pageLinkFocus($(e))},bindInPageLinks:function(){$("a[href*=#]").on("click",function(e){this.pageLinkFocus($(e.currentTarget.hash))}.bind(this))},trapFocus:function(t){var e=t.namespace?"focusin."+t.namespace:"focusin";t.$elementToFocus||(t.$elementToFocus=t.$container),t.$container.attr("tabindex","-1"),t.$elementToFocus.focus(),$(document).off("focusin"),$(document).on(e,function(e){t.$container[0]===e.target||t.$container.has(e.target).length||t.$container.focus()})},removeTrapFocus:function(e){var t=e.namespace?"focusin."+e.namespace:"focusin";e.$container&&e.$container.length&&e.$container.removeAttr("tabindex"),$(document).off(t)}},theme.Images={preload:function(e,t){"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];this.loadImage(this.getSizedImageUrl(n,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,i){var n=this.imageSize(t.src),o=this.getSizedImageUrl(e.src,n);i?i(o,e,t):t.src=o},imageSize:function(e){var t=e.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);return null!==t?t[1]:null},getSizedImageUrl:function(e,t){if(null==t)return e;if("master"===t)return this.removeProtocol(e);var i=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null==i)return null;var n=e.split(i[0]),o=i[0];return 0<o.indexOf("jpg")||0<o.indexOf("jpeg")?this.removeProtocol(n[0]+"_"+t+".progressive"+o):this.removeProtocol(n[0]+"_"+t+o)},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},theme.Currency={formatMoney:function(e,t){"string"==typeof e&&(e=e.replace(".",""));var i="",n=/\{\{\s*(\w+)\s*\}\}/,o=t||"${{amount}}";function s(e,t,i,n){if(t=t||2,i=i||",",n=n||".",isNaN(e)||null==e)return 0;var o=(e=(e/100).toFixed(t)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(o[1]?n+o[1]:"")}switch(o.match(n)[1]){case"amount":i=s(e,2);break;case"amount_no_decimals":i=s(e,0);break;case"amount_with_comma_separator":i=s(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":i=s(e,0,".",",");break;case"amount_no_decimals_with_space_separator":i=s(e,0," ")}return o.replace(n,i)}},slate.Variants=function(){function e(e){this.$container=e.$container,this.product=e.product,this.singleOptionSelector=e.singleOptionSelector,this.originalSelectorId=e.originalSelectorId,this.enableHistoryState=e.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return e.prototype=_.assignIn({},e.prototype,{_getCurrentOptions:function(){var e=_.map($(this.singleOptionSelector,this.$container),function(e){var t=$(e),i=t.attr("type"),n={};return"radio"===i||"checkbox"===i?!!t[0].checked&&(n.value=t.val(),n.index=t.data("index"),n):(n.value=t.val(),n.index=t.data("index"),n)});return e=_.compact(e)},_getVariantFromOptions:function(){var e=this._getCurrentOptions(),t=this.product.variants;return _.find(t,function(t){return e.every(function(e){return _.isEqual(t[e.index],e.value)})})},_onSelectChange:function(){var e=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:e}),e&&(this._updateMasterSelect(e),this._updateImages(e),this._updatePrice(e),this._checkLowInventory(e),this.currentVariant=e,this.enableHistoryState&&this._updateHistoryState(e))},_updateImages:function(e){var t=e.featured_image||{},i=this.currentVariant.featured_image||{};e.featured_image&&t.src!==i.src&&this.$container.trigger({type:"variantImageChange",variant:e})},_updatePrice:function(e){e.price===this.currentVariant.price&&e.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:e})},_updateHistoryState:function(e){if(history.replaceState&&e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+e.id;window.history.replaceState({path:t},"",t)}},_updateMasterSelect:function(e){$(this.originalSelectorId,this.$container).val(e.id)},_checkLowInventory:function(e){console.log("NEW VARIANT SELECT FUNCTION. got:"),console.log(e),e.inventory_quantity<5&&0<e.inventory_quantity?$("#lowInvMsg").text("Don't delay - Only "+e.inventory_quantity.toString()+" left in stock!"):$("#lowInvMsg").text("")}}),e}(),theme.Drawers=function(){function e(e,t,i){var n={close:".js-drawer-close",open:".js-drawer-open-"+t,openClass:"js-drawer-open",dirOpenClass:"js-drawer-open-"+t};if(this.nodes={$parent:$("html").add("body"),$page:$("#PageContainer")},this.config=$.extend(n,i),this.position=t,this.$drawer=$("#"+e),!this.$drawer.length)return!1;this.drawerIsOpen=!1,this.init()}return e.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this)),this.$drawer.on("click",this.config.close,$.proxy(this.close,this))},e.prototype.open=function(e){var t=!1;return e?e.preventDefault():t=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=$(e.currentTarget)),this.drawerIsOpen&&!t?this.close():(this.$drawer.prepareTransition(),this.nodes.$parent.addClass(this.config.openClass+" "+this.config.dirOpenClass),this.drawerIsOpen=!0,slate.a11y.trapFocus({$container:this.$drawer,namespace:"drawer_focus"}),this.config.onDrawerOpen&&"function"==typeof this.config.onDrawerOpen&&(t||this.config.onDrawerOpen()),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true"),this.bindEvents(),this)},e.prototype.close=function(){this.drawerIsOpen&&($(document.activeElement).trigger("blur"),this.$drawer.prepareTransition(),this.nodes.$parent.removeClass(this.config.dirOpenClass+" "+this.config.openClass),this.drawerIsOpen=!1,slate.a11y.removeTrapFocus({$container:this.$drawer,namespace:"drawer_focus"}),this.unbindEvents())},e.prototype.bindEvents=function(){this.nodes.$parent.on("keyup.drawer",$.proxy(function(e){return 27!==e.keyCode||(this.close(),!1)},this)),this.nodes.$page.on("touchmove.drawer",function(){return!1}),this.nodes.$page.on("click.drawer",$.proxy(function(){return this.close(),!1},this))},e.prototype.unbindEvents=function(){this.nodes.$page.off(".drawer"),this.nodes.$parent.off(".drawer")},e}(),window.theme=window.theme||{},theme.Header=function(){var i={body:"body",navigation:"#AccessibleNav",siteNavHasDropdown:".site-nav--has-dropdown",siteNavChildLinks:".site-nav__child-link",siteNavActiveDropdown:".site-nav--active-dropdown",siteNavLinkMain:".site-nav__link--main",siteNavChildLink:".site-nav__link--last"},n={activeClass:"site-nav--active-dropdown",childLinkClass:"site-nav__child-link"},o={};function s(e){console.log("hiding dropdown"),e.find(i.siteNavLinkMain).attr("aria-expanded","false"),e.removeClass(n.activeClass),o.$activeDropdown=$(i.siteNavActiveDropdown),$(i.body).off("click.siteNav"),$(window).off("keyup.siteNav")}return{init:function(){(o={$nav:$(i.navigation),$topLevel:$(i.siteNavLinkMain),$parents:$(i.navigation).find(i.siteNavHasDropdown),$subMenuLinks:$(i.siteNavChildLinks),$activeDropdown:$(i.siteNavActiveDropdown)}).$parents.on("mouseenter.siteNav",function(e){var t=$(this);t.hasClass(n.activeClass)||(e.preventDefault(),e.stopImmediatePropagation()),function(t){console.log("showing dropdown for"),console.log(t),o.$activeDropdown.length&&(console.log("hiding current open dropdown"),s(o.$activeDropdown));t.addClass(n.activeClass),(o.$activeDropdown=t).find(i.siteNavLinkMain).attr("aria-expanded","true"),setTimeout(function(){$(window).on("keyup.siteNav",function(e){27===e.keyCode&&(console.log("keycode 27"),s(t))}),$(i.body).on("click.siteNav",function(){console.log("body click.siteNav"),s(t)})},250)}(t)}),$(i.siteNavChildLink).on("mouseleave.siteNav",function(){setTimeout(function(){!$(document.activeElement).hasClass(n.childLinkClass)&&o.$activeDropdown.length&&(console.log("mouseleave.siteNav"),s(o.$activeDropdown))})}),$(i.siteNavChildLink).on("focusout.siteNav",function(){setTimeout(function(){!$(document.activeElement).hasClass(n.childLinkClass)&&o.$activeDropdown.length&&(console.log("focusout.siteNav"),s(o.$activeDropdown))})}),o.$subMenuLinks.on("click.siteNav",function(e){e.stopImmediatePropagation()})},unload:function(){$(window).off(".siteNav"),o.$parents.off(".siteNav"),o.$subMenuLinks.off(".siteNav"),o.$topLevel.off(".siteNav"),$(i.siteNavChildLink).off(".siteNav"),$(i.body).off(".siteNav")}}}(),window.theme=window.theme||{},theme.MobileNav=function(){var s,a,r,c={mobileNavOpenIcon:"mobile-nav--open",mobileNavCloseIcon:"mobile-nav--close",subNavLink:"mobile-nav__sublist-link",return:"mobile-nav__return-btn",subNavActive:"is-active",subNavClosing:"is-closing",navOpen:"js-menu--is-open",subNavShowing:"sub-nav--is-open",thirdNavShowing:"third-nav--is-open",subNavToggleBtn:"js-toggle-submenu"},l={},d=1;function e(){var e,t;l.$mobileNavToggle.hasClass(c.mobileNavCloseIcon)?i():(e=l.$siteHeader.outerHeight(),t=l.$mobileNavContainer.outerHeight(),l.$mobileNavContainer.prepareTransition().addClass(c.navOpen),l.$mobileNavContainer.css({transform:"translate3d(0, "+e+"px, 0)"}),l.$pageContainer.css({transform:"translate3d(0, "+t+"px, 0)"}),slate.a11y.trapFocus({$container:l.$mobileNav,namespace:"navFocus"}),l.$mobileNavToggle.addClass(c.mobileNavCloseIcon).removeClass(c.mobileNavOpenIcon),$(window).on("keyup.mobileNav",function(e){27===e.which&&i()}))}function i(){l.$mobileNavContainer.prepareTransition().removeClass(c.navOpen),l.$mobileNavContainer.css({transform:"translate3d(0, -100%, 0)"}),l.$pageContainer.removeAttr("style"),l.$mobileNavContainer.one("TransitionEnd.navToggle webkitTransitionEnd.navToggle transitionend.navToggle oTransitionEnd.navToggle",function(){slate.a11y.removeTrapFocus({$container:l.$mobileNav,namespace:"navFocus"})}),l.$mobileNavToggle.addClass(c.mobileNavOpenIcon).removeClass(c.mobileNavCloseIcon),$(window).off("keyup.mobileNav")}function t(e){if(!s){var t=$(e.currentTarget),i=t.hasClass(c.return);s=!0,i?($("."+c.subNavToggleBtn+'[data-level="'+(d-1)+'"]').removeClass(c.subNavActive),r&&r.length&&r.removeClass(c.subNavActive)):t.addClass(c.subNavActive),function(e){var t=e?$('.mobile-nav__dropdown[data-parent="'+e+'"]'):l.$mobileNav;d=t.data("level")?t.data("level"):1,a&&a.length&&a.prepareTransition().addClass(c.subNavClosing);a=t;var i=e?t.find("."+c.subNavLink+":first"):r,n=t[0].scrollHeight;e||(n=t.outerHeight());var o=2<d?c.thirdNavShowing:c.subNavShowing;l.$mobileNavContainer.css("height",n).removeClass(c.thirdNavShowing).addClass(o),e||l.$mobileNavContainer.removeClass(c.thirdNavShowing).removeClass(c.subNavShowing);l.$mobileNavContainer.one("TransitionEnd.subnavToggle webkitTransitionEnd.subnavToggle transitionend.subnavToggle oTransitionEnd.subnavToggle",function(){slate.a11y.trapFocus({$container:t,$elementToFocus:i,namespace:"subNavFocus"}),l.$mobileNavContainer.off(".subnavToggle"),s=!1}),l.$pageContainer.css({transform:"translate3d(0, "+n+"px, 0)"}),a.removeClass(c.subNavClosing)}((r=t).data("target"))}}return{init:function(){(l={$pageContainer:$("#PageContainer"),$siteHeader:$(".site-header"),$mobileNavToggle:$(".js-mobile-nav-toggle"),$mobileNavContainer:$(".mobile-nav-wrapper"),$mobileNav:$("#MobileNav"),$subNavToggleBtn:$("."+c.subNavToggleBtn)}).$mobileNavToggle.on("click",e),l.$subNavToggleBtn.on("click.subNav",t),enquire.register("screen and (max-width: 749px)",{unmatch:function(){i()}})},closeMobileNav:i}}(jQuery),window.theme=window.theme||{},theme.Search=function(){var i={search:".search",searchSubmit:".search__submit",searchInput:".search__input",siteHeader:".site-header",siteHeaderSearchToggle:".site-header__search-toggle",siteHeaderSearch:".site-header__search",searchDrawer:".search-bar",searchDrawerInput:".search-bar__input",searchHeader:".search-header",searchHeaderInput:".search-header__input",searchHeaderSubmit:".search-header__submit",mobileNavWrapper:".mobile-nav-wrapper"},e={focus:"search--focus",mobileNavIsOpen:"js-menu--is-open"};function t(){n($(i.searchDrawerInput)),$(i.mobileNavWrapper).hasClass(e.mobileNavIsOpen)&&theme.MobileNav.closeMobileNav()}function n(e){e.focus(),e[0].setSelectionRange(0,e[0].value.length)}return{init:function(){$(i.siteHeader).length&&($("#PageContainer").addClass("drawer-page-content"),$(".js-drawer-open-top").attr("aria-controls","SearchDrawer").attr("aria-expanded","false"),theme.SearchDrawer=new theme.Drawers("SearchDrawer","top",{onDrawerOpen:t}),$(i.searchSubmit).on("click",function(e){var t=$(e.target).parents(i.search).find(i.searchInput);0===t.val().length&&(e.preventDefault(),n(t))}),$(i.searchHeaderInput).add(i.searchHeaderSubmit).on("focus blur",function(){$(i.searchHeader).toggleClass(e.focus)}),$(i.siteHeaderSearchToggle).on("click",function(){var e=$(i.siteHeader).outerHeight(),t=$(i.siteHeader).offset().top-e;$(i.searchDrawer).css({height:e+"px",top:t+"px"})}))}}}(),function(){var e=$(".return-link");function i(e){var t=document.createElement("a");return t.ref=e,t.hostname}document.referrer&&e.length&&window.history.length&&e.one("click",function(e){e.preventDefault();var t=i(document.referrer);return i(window.location.href)===t&&history.back(),!1})}(),theme.Slideshow=function(){this.$slideshow=null;var h={wrapper:"slideshow-wrapper",slideshow:"slideshow",currentSlide:"slick-current",video:"slideshow__video",videoBackground:"slideshow__video--background",closeVideoBtn:"slideshow__video-control--close",pauseButton:"slideshow__pause",isPaused:"is-paused"};function e(e){this.$slideshow=$(e),this.$wrapper=this.$slideshow.closest("."+h.wrapper),this.$pause=this.$wrapper.find("."+h.pauseButton),this.settings={accessibility:!0,arrows:!1,dots:!0,fade:!0,draggable:!0,touchThreshold:20,autoplay:this.$slideshow.data("autoplay"),autoplaySpeed:this.$slideshow.data("speed")},this.$slideshow.on("beforeChange",function(e,t,i,n){var o=t.$slider,s=o.find("."+h.currentSlide),a=o.find('.slideshow__slide[data-slick-index="'+n+'"]');if(u(s)){var r=s.find("."+h.video),c=r.attr("id");theme.SlideshowVideo.pauseVideo(c),r.attr("tabindex","-1")}if(u(a)){var l=a.find("."+h.video),d=l.attr("id");l.hasClass(h.videoBackground)?theme.SlideshowVideo.playVideo(d):l.attr("tabindex","0")}}.bind(this)),this.$slideshow.on("init",function(e,t){var i=t.$slider,n=t.$list,o=this.$wrapper,s=this.settings.autoplay;n.removeAttr("aria-live"),o.on("focusin",function(e){o.has(e.target).length&&(n.attr("aria-live","polite"),s&&i.slick("slickPause"))}),o.on("focusout",function(e){if(o.has(e.target).length&&(n.removeAttr("aria-live"),s)){if($(e.target).hasClass(h.closeVideoBtn))return;i.slick("slickPlay")}}),t.$dots&&t.$dots.on("keydown",function(e){37===e.which&&i.slick("slickPrev"),39===e.which&&i.slick("slickNext"),37!==e.which&&39!==e.which||t.$dots.find(".slick-active button").focus()})}.bind(this)),this.$slideshow.slick(this.settings),this.$pause.on("click",this.togglePause.bind(this))}function u(e){return e.find("."+h.video).length}return e.prototype.togglePause=function(){var e="#Slideshow-"+this.$pause.data("id");this.$pause.hasClass(h.isPaused)?(this.$pause.removeClass(h.isPaused),$(e).slick("slickPlay")):(this.$pause.addClass(h.isPaused),$(e).slick("slickPause"))},e}(),theme.SlideshowVideo=function(){var r=!1,c=!1,i=!1,l=!1,n=!1,d={},h=[],s={ratio:16/9,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:0,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0,rel:0},events:{onReady:function(e){e.target.setPlaybackQuality("hd1080");var t=f(e);switch(function(){if(i)return;$(window).width()<750?l=!0:window.mobileCheck()&&(l=!0);l&&p(!1);i=!0}(),$("#"+t.id).attr("tabindex","-1"),v(),t.type){case"background-chrome":case"background":e.target.mute(),t.$parentSlide.hasClass(u.currentSlide)&&o(t.id)}t.$parentSlide.addClass(u.loaded)},onStateChange:function(e){var t=f(e);switch(e.data){case 0:!function(e){switch(e.type){case"background":h[e.id].seekTo(0);break;case"background-chrome":h[e.id].seekTo(0),a(e.id);break;case"chrome":a(e.id)}}(t);break;case 1:m(t);break;case 2:g(t)}}}},u={playing:"video-is-playing",paused:"video-is-paused",loading:"video-is-loading",loaded:"video-is-loaded",slideshowWrapper:"slideshow-wrapper",slide:"slideshow__slide",slideBackgroundVideo:"slideshow__slide--background-video",slideDots:"slick-dots",videoChrome:"slideshow__video--chrome",videoBackground:"slideshow__video--background",playVideoBtn:"slideshow__video-control--play",closeVideoBtn:"slideshow__video-control--close",currentSlide:"slick-current",slickClone:"slick-cloned",supportsAutoplay:"autoplay",supportsNoAutoplay:"no-autoplay"};function o(e,t){var i,n,o=d[e],s=h[e],a=d[e].$parentSlide;if(l)m(o);else if(t||r&&c)return a.removeClass(u.loading),m(o),void s.playVideo();r||(n=a,(i=s).playVideo(),function(e){var t,i,n=$.Deferred();return t=setInterval(function(){e.getCurrentTime()<=0||(c=!0,clearInterval(t),clearTimeout(i),n.resolve())},500),i=setTimeout(function(){clearInterval(t),n.reject()},4e3),n}(i).then(function(){p(!0)}).fail(function(){p(!1),i.stopVideo()}).always(function(){r=!0,n.removeClass(u.loading)}))}function p(e){var t=e?u.supportsAutoplay:u.supportsNoAutoplay;$(document.documentElement).addClass(t),e||(l=!0),r=!0}function m(e){var t=e.$parentSlideshowWrapper,i=e.$parentSlide;if(i.removeClass(u.loading),"background"!==e.status){switch($("#"+e.id).attr("tabindex","0"),e.type){case"chrome":case"background-chrome":t.removeClass(u.paused).addClass(u.playing),i.removeClass(u.paused).addClass(u.playing)}i.find("."+u.closeVideoBtn).focus()}}function g(e){var t=e.$parentSlideshowWrapper,i=e.$parentSlide;"background-chrome"!==e.type?("closed"!==e.status&&"background"!==e.type&&(t.addClass(u.paused),i.addClass(u.paused)),"chrome"===e.type&&"closed"===e.status&&(t.removeClass(u.paused),i.removeClass(u.paused)),t.removeClass(u.playing),i.removeClass(u.playing)):a(e.id)}function a(e){var t,i,n=d[e],o=n.$parentSlideshowWrapper,s=n.$parentSlide,a=[u.pause,u.playing].join(" ");switch($("#"+n.id).attr("tabindex","-1"),n.status="closed",n.type){case"background-chrome":h[e].mute(),t=e,i=$("#"+t).addClass(u.videoBackground).removeClass(u.videoChrome),d[t].$parentSlide.addClass(u.slideBackgroundVideo),d[t].status="background",w(i);break;case"chrome":h[e].stopVideo(),g(n)}o.removeClass(a),s.removeClass(a)}function f(e){return d[e.target.h.id]}function t(t){var e,i=d[t];switch(i.$parentSlide.addClass(u.loading),i.status="open",i.type){case"background-chrome":e=t,$("#"+e).removeAttr("style").removeClass(u.videoBackground).addClass(u.videoChrome),d[e].$parentSlideshowWrapper.removeClass(u.slideBackgroundVideo).addClass(u.playing),d[e].$parentSlide.removeClass(u.slideBackgroundVideo).addClass(u.playing),d[e].status="open",h[t].unMute(),o(t,!0);break;case"chrome":o(t,!0)}$(document).on("keydown.videoPlayer",function(e){27===e.keyCode&&a(t)})}function v(){$("."+u.videoBackground).each(function(e,t){w($(t))})}function w(e){var t=e.closest("."+u.slide);if(!t.hasClass(u.slickClone)){var i=t.width(),n=e.width(),o=e.height();i/s.ratio<o?(n=Math.ceil(o*s.ratio),e.width(n).height(o).css({left:(i-n)/2,top:0})):(o=Math.ceil(i/s.ratio),e.width(i).height(o).css({left:0,top:(o-o)/2})),e.prepareTransition().addClass(u.loaded)}}function _(){$(document).on("click.videoPlayer","."+u.playVideoBtn,function(e){t($(e.currentTarget).data("controls"))}),$(document).on("click.videoPlayer","."+u.closeVideoBtn,function(e){a($(e.currentTarget).data("controls"))}),$(window).on("resize.videoPlayer",$.debounce(250,function(){n&&v()}))}return{init:function(e){if(e.length&&(d[e.attr("id")]={id:e.attr("id"),videoId:e.data("id"),type:e.data("type"),status:"chrome"===e.data("type")?"closed":"background",videoSelector:e.attr("id"),$parentSlide:e.closest("."+u.slide),$parentSlideshowWrapper:e.closest("."+u.slideshowWrapper),controls:"background"===e.data("type")?0:1,slideshow:e.data("slideshow")},!n)){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}},loadVideos:function(){for(var e in d)if(d.hasOwnProperty(e)){var t=$.extend({},s,d[e]);t.playerVars.controls=t.controls,h[e]=new YT.Player(e,t)}_(),n=!0},loadVideo:function(e){if(n){var t=$.extend({},s,d[e]);t.playerVars.controls=t.controls,h[e]=new YT.Player(e,t),_()}},playVideo:function(e){(i||l)&&e&&"function"==typeof h[e].playVideo&&o(e)},pauseVideo:function(e){h[e]&&"function"==typeof h[e].pauseVideo&&h[e].pauseVideo()},removeEvents:function(){$(document).off(".videoPlayer"),$(window).off(".videoPlayer")}}}(),function(){var e=$("#BlogTagFilter");e.length&&e.on("change",function(){location.href=$(this).val()})}(),window.theme=theme||{},theme.customerTemplates=function(){function t(){$("#RecoverPasswordForm").toggleClass("hide"),$("#CustomerLoginForm").toggleClass("hide")}return{init:function(){var e;"#recover"===window.location.hash&&t(),$("#RecoverPassword").on("click",function(e){e.preventDefault(),t()}),$("#HideRecoverPasswordLink").on("click",function(e){e.preventDefault(),t()}),$(".reset-password-success").length&&$("#ResetSuccess").removeClass("hide"),(e=$("#AddressNewForm")).length&&(Shopify&&new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),$(".address-country-option").each(function(){var e=$(this).data("form-id"),t="AddressCountry_"+e,i="AddressProvince_"+e,n="AddressProvinceContainer_"+e;new Shopify.CountryProvinceSelector(t,i,{hideElement:n})}),$(".address-new-toggle").on("click",function(){e.toggleClass("hide")}),$(".address-edit-toggle").on("click",function(){var e=$(this).data("form-id");$("#EditAddress_"+e).toggleClass("hide")}),$(".address-delete").on("click",function(){var e=$(this),t=e.data("form-id"),i=e.data("confirm-message");confirm(i||"Are you sure you wish to delete this address?")&&Shopify.postLink("/account/addresses/"+t,{parameters:{_method:"delete"}})}))}}}(),window.theme=window.theme||{},theme.Cart=function(){var t=".js-edit-toggle",n="cart__update--show",o="cart__edit--active";function e(e){this.$container=$(e),this.$edit=$(t,this.$container),this.$edit.on("click",this._onEditClick.bind(this))}return e.prototype=_.assignIn({},e.prototype,{onUnload:function(){this.$edit.off("click",this._onEditClick)},_onEditClick:function(e){var t=$(e.target),i=$("."+t.data("target"));t.toggleClass(o),i.toggleClass(n)}}),e}(),window.theme=window.theme||{},theme.Filters=function(){var n="sort_by",e="title-ascending",i=".filters-toolbar__input--filter",o=".filters-toolbar__input--sort",t=".filters-toolbar__default-sort";function s(e){var t=this.$container=$(e);this.$filterSelect=$(i,t),this.$sortSelect=$(o,t),this.$selects=$(i,t).add($(o,t)),this.defaultSort=this._getDefaultSortValue(),this._resizeSelect(this.$selects),this.$selects.removeClass("hidden"),this.$filterSelect.on("change",this._onFilterChange.bind(this)),this.$sortSelect.on("change",this._onSortChange.bind(this))}return s.prototype=_.assignIn({},s.prototype,{_onSortChange:function(e){var t="";this.sort=this._getSortValue(),this.sort!==this.defaultSort&&(t=[n+"="+this.sort]);var i=document.location.search=t.length?"?"+t:"";document.location.href=this.$filterSelect.val()+i,this._resizeSelect($(e.target))},_onFilterChange:function(e){if(logic_done=!1,multiple_filter_strings=!1,new_filter=$(e.target).val(),console.log(new_filter),parse=new_filter.split("cf-"),new_both=parse[parse.length-1],new_cat=new_both.split("-")[0],new_val=new_both.split("-")[1],adding_filter=-1<new_filter.indexOf("cf-"),-1<window.location.href.indexOf("cf-")&&adding_filter){for(var t=document.location.href.split("/"),i=0;i<t.length;i++)-1<t[i].indexOf("+")?(multiple_filter_strings=!0,filter_strings=t[i],filter_index=i,console.log("found multiple filters:"+filter_strings)):-1<t[i].indexOf("cf-")&&(filter_strings=t[i],console.log("found one filter:"+filter_strings),curr_value=filter_strings.split(/cf-\w*-/g)[1],cat_end=filter_strings.length-curr_value.length-1,curr_cat=filter_strings.substring(3,cat_end),console.log(filter_strings),console.log(cat_end),console.log("testing"+curr_cat+" vs "+new_cat),curr_cat===new_cat?(console.log("replacing selection for: "+curr_cat),document.location.href=$(e.target).val()):(t[i]=t[i]+"+"+new_filter.split("/").pop(),logic_done=!0));if(logic_done&&(new_url=t.join("/"),document.location.href=new_url),multiple_filter_strings){console.log("replace at index: "+filter_index),console.log(filter_strings),console.log("recieved."),components=filter_strings.split("+"),found_match=!1;for(i=0;i<components.length;i++)console.log("part 1: "+components[i]),curr_value=components[i].split(/cf-\w*-/g)[1],cat_end=components[i].length-curr_value.length-1,curr_cat=components[i].substring(3,cat_end),curr_cat===new_cat&&(found_match=!0,components[i]="cf-"+new_both);found_match||(console.log("no matching category, adding filter"),components.length<3?(console.log("available slot, appending"),components[components.length]="cf-"+new_both):(console.log("no available slot, replacing first filter"),components[0]="cf-"+new_both)),t[t.length-1]=components.join("+"),new_url=t.join("/"),console.log(new_url),document.location.href=new_url}}else if(adding_filter)console.log("no existing filters, applying selection."),document.location.href=$(e.target).val();else{tag_to_remove="cf-"+new_filter.split("rm_")[1],console.log("removing: "+tag_to_remove);for(t=document.location.href.split("/"),i=0;i<t.length;i++)-1<t[i].indexOf("cf-")&&(console.log(t[i]),-1<t[i].indexOf("+")?(test_parts=t[i],components=t[i].split("+"),-1<components.indexOf(tag_to_remove)&&(console.log("found the tag to remove at index: "+components.indexOf(tag_to_remove)),console.log("setting components - "),test_components=components,console.log(test_components),removed_tag=components.splice(components.indexOf(tag_to_remove),1),console.log("new filter string: "+components)),t[i]=components.join("+"),console.log("final part: "+t[i])):(t[i]="",new_url=t.join("/"),console.log("found only 1 filter cat, removing it"+new_url),document.location.href=new_url));new_url=t.join("/"),console.log(new_url),document.location.href=new_url}this._resizeSelect($(e.target))},_getSortValue:function(){return this.$sortSelect.val()||this.defaultSort},_getDefaultSortValue:function(){return $(t,this.$container).val()||e},_resizeSelect:function(e){e.each(function(){var e=$(this),t=e.find("option:selected").text(),i=$("<span>").html(t);i.appendTo("body");var n=i.width();i.remove(),e.width(n+10+10)})},onUnload:function(){this.$filterSelect.off("change",this._onFilterChange),this.$sortSelect.off("change",this._onSortChange)}}),s}(),window.theme=window.theme||{},theme.HeaderSection=function(){function e(){theme.Header.init(),theme.MobileNav.init(),theme.Search.init()}return e.prototype=_.assignIn({},e.prototype,{onUnload:function(){theme.Header.unload()}}),e}(),theme.Maps=function(){var s=14,t=null,i=[],n=theme.mapKey?theme.mapKey:"";function e(e){this.$container=$(e),"loaded"===t?this.createMap():(i.push(this),"loading"!==t&&(t="loading",void 0===window.google&&$.getScript("https://maps.googleapis.com/maps/api/js?key="+n).then(function(){t="loaded",$.each(i,function(e,t){t.createMap()})})))}return e.prototype=_.assignIn({},e.prototype,{createMap:function(){var e,i,t,n,o=this.$container.find(".map-section__container");return(e=o,i=$.Deferred(),t=new google.maps.Geocoder,n=e.data("address-setting"),t.geocode({address:n},function(e,t){t!==google.maps.GeocoderStatus.OK&&i.reject(t),i.resolve(e)}),i).then(function(e){var t={zoom:s,center:e[0].geometry.location,disableDefaultUI:!0},i=this.map=new google.maps.Map(o[0],t),n=this.center=i.getCenter();new google.maps.Marker({map:i,position:i.getCenter()});google.maps.event.addDomListener(window,"resize",$.debounce(250,function(){google.maps.event.trigger(i,"resize"),i.setCenter(n)}))}.bind(this)).fail(function(){var e;switch(status){case"ZERO_RESULTS":e=theme.strings.addressNoResults;break;case"OVER_QUERY_LIMIT":e=theme.strings.addressQueryLimit;break;default:e=theme.strings.addressError}o.parent().addClass("page-width map-section--load-error").html('<div class="errors text-center">'+e+"</div>")})},onUnload:function(){google.maps.event.clearListeners(this.map,"resize")}}),e}(),theme.Product=function(){function e(e){var t=this.$container=$(e),i=t.attr("data-section-id");this.settings={mediaQueryMediumUp:"screen and (min-width: 750px)",mediaQuerySmall:"screen and (max-width: 749px)",bpSmall:!1,enableHistoryState:t.data("enable-history-state")||!1,imageSize:null,imageZoomSize:null,namespace:".slideshow-"+i,sectionId:i,sliderActive:!1,zoomEnabled:!1},this.selectors={addToCart:"#AddToCart-"+i,addToCartText:"#AddToCartText-"+i,comparePrice:"#ComparePrice-"+i,originalPrice:"#ProductPrice-"+i,originalPriceWrapper:".product-price__price-"+i,originalSelectorId:"#ProductSelect-"+i,productFeaturedImage:"#FeaturedImage-"+i,productImageWrap:"#FeaturedImageZoom-"+i,productPrices:".product-single__price-"+i,productThumbImages:".product-single__thumbnail--"+i,productThumbs:".product-single__thumbnails-"+i,saleClasses:"product-price__sale product-price__sale--single",saleLabel:".product-price__sale-label-"+i,singleOptionSelector:".single-option-selector-"+i},$("#ProductJson-"+i).html()&&(this.productSingleObject=JSON.parse(document.getElementById("ProductJson-"+i).innerHTML),this.settings.zoomEnabled=$(this.selectors.productFeaturedImage).hasClass("js-zoom-enabled"),this.settings.imageSize=theme.Images.imageSize($(this.selectors.productFeaturedImage).attr("src")),this.settings.zoomEnabled&&(this.settings.imageZoomSize=theme.Images.imageSize($(this.selectors.productImageWrap).data("zoom"))),this._initBreakpoints(),this._stringOverrides(),this._initVariants(),this._initImageSwitch(),this._setActiveThumbnail(),theme.Images.preload(this.productSingleObject.images,this.settings.imageSize))}function i(e){var t=e.data("zoom");e.zoom({url:t})}function n(e){e.trigger("zoom.destroy")}return e.prototype=_.assignIn({},e.prototype,{_stringOverrides:function(){theme.productStrings=theme.productStrings||{},$.extend(theme.strings,theme.productStrings)},_initBreakpoints:function(){var e=this;enquire.register(this.settings.mediaQuerySmall,{match:function(){3<$(e.selectors.productThumbImages).length&&e._initThumbnailSlider(),e.settings.zoomEnabled&&n($(e.selectors.productImageWrap)),e.settings.bpSmall=!0},unmatch:function(){e.settings.sliderActive&&e._destroyThumbnailSlider(),e.settings.bpSmall=!1}}),enquire.register(this.settings.mediaQueryMediumUp,{match:function(){e.settings.zoomEnabled&&i($(e.selectors.productImageWrap))}})},_initVariants:function(){var e={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:this.selectors.singleOptionSelector,originalSelectorId:this.selectors.originalSelectorId,product:this.productSingleObject};this.variants=new slate.Variants(e),this.$container.on("variantChange"+this.settings.namespace,this._updateAddToCart.bind(this)),this.$container.on("variantImageChange"+this.settings.namespace,this._updateImages.bind(this)),this.$container.on("variantPriceChange"+this.settings.namespace,this._updatePrice.bind(this))},_initImageSwitch:function(){if($(this.selectors.productThumbImages).length){var o=this;$(this.selectors.productThumbImages).on("click",function(e){e.preventDefault();var t=$(this),i=t.attr("href"),n=t.data("zoom");o._switchImage(i,n),o._setActiveThumbnail(i)})}},_setActiveThumbnail:function(e){var t="active-thumb";void 0===e&&(e=$(this.selectors.productFeaturedImage).attr("src"));var i=$(this.selectors.productThumbImages+'[href="'+e+'"]');$(this.selectors.productThumbImages).removeClass(t),i.addClass(t)},_switchImage:function(e,t){$(this.selectors.productFeaturedImage).attr("src",e),this.settings.zoomEnabled&&n($(this.selectors.productImageWrap)),!this.settings.bpSmall&&this.settings.zoomEnabled&&t&&($(this.selectors.productImageWrap).data("zoom",t),i($(this.selectors.productImageWrap)))},_initThumbnailSlider:function(){var e={slidesToShow:4,slidesToScroll:3,infinite:!1,prevArrow:".thumbnails-slider__prev--"+this.settings.sectionId,nextArrow:".thumbnails-slider__next--"+this.settings.sectionId,responsive:[{breakpoint:321,settings:{slidesToShow:3}}]};$(this.selectors.productThumbs).slick(e),this.settings.sliderActive=!0},_destroyThumbnailSlider:function(){$(this.selectors.productThumbs).slick("unslick"),this.settings.sliderActive=!1},_updateAddToCart:function(e){var t=e.variant;t?($(this.selectors.productPrices).removeClass("visibility-hidden").attr("aria-hidden","true"),t.available?($(this.selectors.addToCart).prop("disabled",!1),$(this.selectors.addToCartText).text(theme.strings.addToCart)):($(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.soldOut))):($(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.unavailable),$(this.selectors.productPrices).addClass("visibility-hidden").attr("aria-hidden","false"))},_updateImages:function(e){var t,i=e.variant,n=theme.Images.getSizedImageUrl(i.featured_image.src,this.settings.imageSize);this.settings.zoomEnabled&&(t=theme.Images.getSizedImageUrl(i.featured_image.src,this.settings.imageZoomSize)),this._switchImage(n,t),this._setActiveThumbnail(n)},_updatePrice:function(e){var t=e.variant;$(this.selectors.originalPrice).html(theme.Currency.formatMoney(t.price,theme.moneyFormat)),t.compare_at_price>t.price?($(this.selectors.comparePrice).html(theme.Currency.formatMoney(t.compare_at_price,theme.moneyFormat)).removeClass("hide"),$(this.selectors.originalPriceWrapper).addClass(this.selectors.saleClasses),$(this.selectors.saleLabel).removeClass("hide")):($(this.selectors.comparePrice).addClass("hide"),$(this.selectors.saleLabel).addClass("hide"),$(this.selectors.originalPriceWrapper).removeClass(this.selectors.saleClasses))},onUnload:function(){this.$container.off(this.settings.namespace)}}),e}(),theme.Quotes=function(){var c={mediaQuerySmall:"screen and (max-width: 749px)",mediaQueryMediumUp:"screen and (min-width: 750px)",slideCount:0},l={accessibility:!0,arrows:!1,dots:!0,autoplay:!1,touchThreshold:20,slidesToShow:3,slidesToScroll:3};function e(e){var t=(this.$container=$(e)).attr("data-section-id"),i=this.wrapper=".quotes-wrapper",n=this.slider="#Quotes-"+t,o=$(n,i),s=!1,a=$.extend({},l,{slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0});function r(e,t){s&&(e.slick("unslick"),s=!1),e.slick(t),s=!0}c.slideCount=o.data("count"),c.slideCount<l.slidesToShow&&(l.slidesToShow=c.slideCount,l.slidesToScroll=c.slideCount),o.on("init",this.a11y.bind(this)),enquire.register(c.mediaQuerySmall,{match:function(){r(o,a)}}),enquire.register(c.mediaQueryMediumUp,{match:function(){r(o,l)}})}return e.prototype=_.assignIn({},e.prototype,{onUnload:function(){enquire.unregister(c.mediaQuerySmall),enquire.unregister(c.mediaQueryMediumUp),$(this.slider,this.wrapper).slick("unslick")},onBlockSelect:function(e){var t=$(".quotes-slide--"+e.detail.blockId+":not(.slick-cloned)").data("slick-index");$(this.slider,this.wrapper).slick("slickGoTo",t)},a11y:function(e,t){var i=t.$list,n=$(this.wrapper,this.$container);i.removeAttr("aria-live"),n.on("focusin",function(e){n.has(e.target).length&&i.attr("aria-live","polite")}),n.on("focusout",function(e){n.has(e.target).length&&i.removeAttr("aria-live")})}}),e}(),theme.slideshows={},theme.SlideshowSection=function(e){var t=(this.$container=$(e)).attr("data-section-id"),i=this.slideshow="#Slideshow-"+t;$(".slideshow__video",i).each(function(){var e=$(this);theme.SlideshowVideo.init(e),theme.SlideshowVideo.loadVideo(e.attr("id"))}),theme.slideshows[i]=new theme.Slideshow(i)},theme.SlideshowSection.prototype=_.assignIn({},theme.SlideshowSection.prototype,{onUnload:function(){delete theme.slideshows[this.slideshow]},onBlockSelect:function(e){var t=$(this.slideshow),i=$(".slideshow__slide--"+e.detail.blockId+":not(.slick-cloned)").data("slick-index");t.slick("slickGoTo",i).slick("slickPause")},onBlockDeselect:function(){$(this.slideshow).slick("slickPlay")}}),$(document).ready(function(){var e=new theme.Sections;e.register("cart-template",theme.Cart),e.register("product",theme.Product),e.register("collection-template",theme.Filters),e.register("product-template",theme.Product),e.register("header-section",theme.HeaderSection),e.register("map",theme.Maps),e.register("slideshow-section",theme.SlideshowSection),e.register("quotes",theme.Quotes)}),theme.init=function(){theme.customerTemplates.init(),slate.rte.wrapTable(),slate.rte.iframeReset(),slate.a11y.pageLinkFocus($(window.location.hash)),$(".in-page-link").on("click",function(e){slate.a11y.pageLinkFocus($(e.currentTarget.hash))}),$('a[href="#"]').on("click",function(e){e.preventDefault()})},$(theme.init);